<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
<!--     <meta name="viewport" content="initial-scale=0.3, maximum-scale=0.3, minimum-scale=0.3, user-scalable=no">
 -->  
  <!-- 引入样式 -->
  <link rel="stylesheet" href="./js/index.css">
</head>
<body>
  <div id="app">
    <el-container>
	  <el-header></el-header>
	  <el-main>
		 <el-card :body-style="{ padding: '0px'}">
	      <div style="padding: 50px;">
			  <el-input type="textarea" v-model="username" placeholder="请输入小朋友姓名"  class="inputW"></el-input>
	      </div>
	      <div style="padding: 50px;">
			  <el-button type="success" round @click="login" style="width: 100%;height:80px;font-size:300%;">进入投票</el-button>
	      </div>
	    </el-card>
		</el-main>
	  <el-footer></el-footer>
	</el-container>
  </div>
</body>
<style type="text/css">
        .inputW{height: 100px;font-size:300%;}
    </style>
    <script src="./js/env.js"></script>
  <!-- 先引入 Vue -->
  <script src="./js/vue.js"></script>
  <!-- 引入组件库 -->
  <script src="./js/index.js"></script>
  <script src="./js/axios.min.js"></script>
  <script>
  var config = {	headers: {'Content-Type': 'application/json','Cache-Control' : 'no-cache'}};
    new Vue({
      el: '#app',
      data: function() {
        return {
          username: ''
        }
      },
      methods: {
        login () {
          let that = this
          axios.post(baseUrl+':'+basePort+'/activity/login',{"username": that.username})
          .then(function(res){
        	  window.location.href="vote.html"
          })
          .catch(function(err){
            that.$message({
                type: 'warning',
                message: '请输入正确姓名！'
            })
          })
        }
      }

    })
  </script>
</html>